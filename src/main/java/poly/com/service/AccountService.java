package poly.com.service;

import poly.com.client.dto.account.CreateAccountRequest;
import poly.com.client.dto.account.CreateAccountResponse;
import poly.com.config.CustomUserDetails;
import poly.com.config.common.ValidationErrorResponse;
import poly.com.config.common.exception.ServiceException;
import poly.com.config.common.security.SecurityUtils;
import poly.com.config.common.util.ServiceExceptionBuilder;
import poly.com.config.common.validationError.ValidationError;
import poly.com.domain.Account;
import poly.com.domain.AccountDetail;
import poly.com.repository.AccountDetailRepository;
import poly.com.repository.AccountRepository;
import poly.com.service.dto.AccountDTO;
import poly.com.service.dto.UserDTO;
import poly.com.service.mapper.AccountMapper;
import poly.com.service.mapper.UserMapper;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import java.io.File;
import java.time.Instant;
import java.util.ArrayList;
import java.util.List;
import java.util.Optional;
import java.util.stream.Collectors;

@Service
@Transactional(rollbackFor = {
        ServiceException.class,
        Exception.class
})
public class AccountService implements UserDetailsService {
    private final Logger log = LoggerFactory.getLogger(this.getClass());

    private final AccountRepository accountRepository;

    private final AccountMapper accountMapper;

    private final AccountDetailRepository accountDetailRepository;

    private final UserMapper userMapper;

    public AccountService(
            AccountRepository accountRepository,
            AccountMapper accountMapper,
            AccountDetailRepository accountDetailRepository,
            UserMapper userMapper
    ){
        this.accountMapper = accountMapper;
        this.accountRepository = accountRepository;
        this.accountDetailRepository = accountDetailRepository;
        this.userMapper= userMapper;
    }

    public String getAvatar(String accountId) {
        String path = accountDetailRepository.getAvatar(accountId);
        if (path.isEmpty()) {
            String base64 = "data:image/jpeg;base64,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";
            return base64;
        }
        return ImageBase64.encoder(path);
    }

    public List<UserDTO> getUserbyRole(Integer role) {
        if(role != null) {
            List<Account> lstAccount = accountRepository.findOptByRole(role);
            List<String> id = lstAccount.stream().map(x -> x.getId()).collect(Collectors.toList());
            List<AccountDetail> lstAccountDetail = accountDetailRepository.findByListId((id));
            List<UserDTO> result = lstAccountDetail.stream().map(item ->
                    UserDTO.builder()
                            .address(item.getAddress())
                            .balance(item.getBalance())
                            .birthday(item.getBirthday())
                            .createdBy(item.getCreatedBy())
                            .createdDate(item.getCreatedDate())
                            .email(item.getEmail())
                            .gender(item.getGender())
                            .build()
                ).collect(Collectors.toList());
            return result;
        }
       return new ArrayList<>();
    }

    public void updateAvatar(String avatarBase64, String accoundId) {
        String uploadRootPath = System.getProperty("user.dir") + File.separator + "uploads" + File.separator + "avatar";
        File uploadRootDir = new File(uploadRootPath);
        String pathFile = uploadRootDir.getAbsolutePath() + File.separator + accoundId + ".jpeg";
        ImageBase64.decodeToImage(avatarBase64, pathFile);
        AccountDetail accountDetail = accountDetailRepository.findById(accoundId);
        if (accountDetail != null) {
            accountDetail.setAvatar(pathFile);
            accountDetailRepository.save(accountDetail);
        }
    }

    public CreateAccountResponse create(CreateAccountRequest request) throws ServiceException, Exception {
        try {
//            if(request == null){
//                ServiceUtil.generateEmptyPayloadError();
//            }
//            if(request.getAccount() == null){
//                throw ServiceExceptionBuilder.newBuilder()
//                        .addError(new ValidationErrorResponse("account", ValidationError.NotNull))
//                        .build();
//            }
            Optional<Account> accountSearch = accountRepository.findUserName(request.getAccount().getUsername());
            if(accountSearch.isPresent()){
//                throw ServiceExceptionBuilder.newBuilder()
//                        .addError(new ValidationErrorResponse("account", ValidationError.Duplicate))
//                        .build();
//               throw com.fis.egp.common.util.ServiceExceptionBuilder.newBuilder()

                throw ServiceExceptionBuilder.newBuilder()
                        .addError(new ValidationErrorResponse("account", ValidationError.Duplicate))
                        .build();

            }

            AccountDTO dto = request.getAccount();
            Account account = accountMapper.toEntity(dto);
            account.setUsername(request.getAccount().getUsername());
            account.setPassword(request.getAccount().getPassword());
            account.setStatus(request.getAccount().getStatus());
            account.setCreatedDate(Instant.now());
            account.setCreatedBy(SecurityUtils.getCurrentUserLogin().get());
            account.setLastModifiedDate(Instant.now());
            account.setLastModifiedBy(SecurityUtils.getCurrentUserLogin().get());


            UserDTO userDTO = request.getAccount().getUser();
            AccountDetail accountDetail = userMapper.toEntity(userDTO);
            accountDetail.setName(request.getAccount().getUser().getName());
            accountDetail.setBirthday(request.getAccount().getUser().getBirthday());
            accountDetail.setGender(request.getAccount().getUser().getGender());
            accountDetail.setAddress(request.getAccount().getUser().getAddress());
            accountDetail.setEmail(request.getAccount().getUser().getEmail());
            accountDetail.setPhone(request.getAccount().getUser().getPhone());
            accountDetail.setBalance(request.getAccount().getUser().getBalance());
            accountDetail.setStatus(request.getAccount().getUser().getStatus());
            accountDetail.setCreatedBy(SecurityUtils.getCurrentUserLogin().get());
            accountDetail.setCreatedDate(Instant.now());
            accountDetail.setLastModifiedBy(SecurityUtils.getCurrentUserLogin().get());
            accountDetail.setLastModifiedDate(Instant.now());

            accountDetailRepository.save(accountDetail);
            CreateAccountResponse response = new CreateAccountResponse();
            accountRepository.save(account);
            response.setAccount(accountMapper.toDto(account));

            return response;
        } catch (Exception e){
            throw e;
        }

    }
    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
        try {
            Account account = accountRepository.findByUserName(username);
            if(account == null){
                throw new UsernameNotFoundException(username);
            }
            System.out.println(account.toString());
            return new CustomUserDetails(account);
        }
        catch (Exception e){
            throw e;
        }
    }

}
